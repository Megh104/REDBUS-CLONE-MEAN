<div class="mobile-view">
  <!-- Seat Selection View -->
  <div class="seat-selection-container">
    <div class="mainContainer1">
      <div class="mainContainer1Left">
        <i class="material-icons">donut_large</i>
        <button
          mat-raised-button
          color="primary"
          class="virtual-tour-btn"
          (click)="toggleVirtualTour()"
        >
          <mat-icon>360</mat-icon>
          Virtual Tour
        </button>
      </div>
      <div class="mainContainer1Right">
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="10 + index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
        <div></div>
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="20 + index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="30 + index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- Seat Info Bar -->
    <div class="seat-info-bar" *ngIf="selectedseats.length > 0">
      <div class="seat-info">
        <div class="selected-seats">
          <span class="label">Selected Seats:</span>
          <span class="seats">{{ selectedseats.join(", ") }}</span>
        </div>
        <div class="total-amount">
          <span class="label">Total Amount:</span>
          <span class="amount">₹{{ selectedseats.length * seatprice }}</span>
        </div>
      </div>
      <button mat-raised-button class="proceed-btn" (click)="proceedToBook()">
        Proceed to Book
      </button>
    </div>
  </div>

  <!-- Booking Form (shown after clicking Proceed) -->
  <div class="booking-form-container" *ngIf="showBookingForm">
    <div class="booking-header">
      <button mat-icon-button class="back-btn" (click)="backToSeats()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h2>Booking Details</h2>
    </div>

    <div class="booking-content">
      <div class="mainContainer2">
        <div class="mainContainer21">
          <div>Boarding and Dropping</div>
          <div>Change</div>
        </div>
        <div class="mainContainer22">
          <div>
            <div>
              <span class="location-text">
                <mat-icon>flight_takeoff</mat-icon>&nbsp;&nbsp;{{
                  routedetails.departureLocation.name
                }}
              </span>
              <br />
              <span class="location-subtext">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Departure Location
              </span>
            </div>
          </div>
          <div class="time-text">{{ busdeparturetime }}:00</div>
        </div>
        <div class="mainContainer23">
          <div>
            <div>
              <span class="location-text">
                <mat-icon>flight_land</mat-icon>&nbsp;&nbsp;{{
                  routedetails.arrivalLocation.name
                }}
              </span>
              <br />
              <span class="location-subtext">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Arrival Location
              </span>
            </div>
          </div>
          <div class="time-text">{{ busarrivaltime }}:00</div>
        </div>
        <mat-divider></mat-divider>
        <div class="mainContainer24">
          <div>Seat No.</div>
          <div>{{ selectedseats.join(", ") }}</div>
        </div>
        <mat-divider></mat-divider>
        <div class="mainContainer25">Fare Details</div>
        <div class="mainContainer26">
          <div>
            <span class="amount-text">Amount</span>
            <br />
            <span class="tax-text"
              >Taxes will be calculated during Payment</span
            >
          </div>
          <div>₹{{ selectedseats.length * seatprice }}</div>
        </div>
        <div class="mainContainer27">
          <app-form-drawer
            [selectedseat]="selectedseats"
            [seatprice]="seatprice"
            [routedetails]="routedetails"
            [busid]="busid"
            [busarrivaltime]="busarrivaltime"
            [busdeparturetime]="busdeparturetime"
            [operatorname]="operatorname"
          >
          </app-form-drawer>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Desktop View -->
<div class="desktop-view">
  <div class="mainContainer">
    <!-- Left Section - Bus Layout -->
    <div class="mainContainer1">
      <div class="mainContainer1Left">
        <i class="material-icons">donut_large</i>
        <button
          mat-raised-button
          class="virtual-tour-btn"
          (click)="toggleVirtualTour()"
        >
          <mat-icon>360</mat-icon>
          Virtual Tour
        </button>
      </div>
      <div class="mainContainer1Right">
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="10 + index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
        <div></div>
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="20 + index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
        <div>
          <ng-container *ngFor="let index of generatearray(10)">
            <app-small-seats
              [seatno]="30 + index"
              [alreadybookedseats]="filledseats"
              (seatselected)="handleselectedseats($event)"
              [selectedseats]="selectedseats"
            ></app-small-seats>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- Right Section - Booking Details -->
    <div class="mainContainer2">
      <div class="mainContainer21">
        <div>Boarding and Dropping</div>
        <div>CHANGE</div>
      </div>
      <div class="mainContainer22">
        <div>
          <div>
            <span class="location-text">
              <mat-icon>flight_takeoff</mat-icon>
              {{ routedetails.departureLocation.name }}
            </span>
            <br />
            <span class="location-subtext"> Departure Location </span>
          </div>
        </div>
        <div class="time-text">{{ busdeparturetime }}:00</div>
      </div>
      <div class="mainContainer23">
        <div>
          <div>
            <span class="location-text">
              <mat-icon>flight_land</mat-icon>
              {{ routedetails.arrivalLocation.name }}
            </span>
            <br />
            <span class="location-subtext"> Arrival Location </span>
          </div>
        </div>
        <div class="time-text">{{ busarrivaltime }}:00</div>
      </div>
      <mat-divider></mat-divider>
      <div class="mainContainer24">
        <div>Seat No.</div>
        <div>{{ selectedseats.join(", ") }}</div>
      </div>
      <mat-divider></mat-divider>
      <div class="mainContainer25">Fare Details</div>
      <div class="mainContainer26">
        <div>
          <span class="amount-text">Amount</span>
          <br />
          <span class="tax-text">Taxes will be calculated during Payment</span>
        </div>
        <div>₹{{ selectedseats.length * seatprice }}</div>
      </div>
      <div class="mainContainer27">
        <app-form-drawer
          [selectedseat]="selectedseats"
          [seatprice]="seatprice"
          [routedetails]="routedetails"
          [busid]="busid"
          [busarrivaltime]="busarrivaltime"
          [busdeparturetime]="busdeparturetime"
          [operatorname]="operatorname"
        >
        </app-form-drawer>
      </div>
    </div>
  </div>
</div>

<div class="seat-selection">
  <h3>{{ "BUS_SELECTION.SELECT_SEATS" | translate }}</h3>
  <!-- ... seat selection code ... -->
</div>

<div class="boarding-points">
  <h3>{{ "BUS_SELECTION.BOARDING_POINT" | translate }}</h3>
  <!-- ... boarding points code ... -->
</div>

<div class="dropping-points">
  <h3>{{ "BUS_SELECTION.DROPPING_POINT" | translate }}</h3>
  <!-- ... dropping points code ... -->
</div>

<button class="continue-btn" (click)="continue()">
  {{ "BUS_SELECTION.CONTINUE" | translate }}
</button>
